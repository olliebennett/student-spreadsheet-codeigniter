<?php if (!defined('BASEPATH')) exit('No direct script access allowed');
class Admin extends CI_Controller {	private $slug = 'admin';		private $subnav = array('houses'=>'Houses',							'users'=>'Users');									private $is_logged_in;		private $facebook_uid;	// Constructor	function __construct() {		parent::__construct();				$this->auth->require_login();		$this->is_logged_in = TRUE;		$this->facebook_uid = $this->session->userdata('facebook_uid');
						// Check user is admin		if (!in_array($this->facebook_uid,$this->config->item('stsp_admins'))) {			$this->session->set_flashdata('error', 'You do not have access to the admin area.');			redirect('/');		}				$this->load->model('admin_model');				$this->output->enable_profiler(TRUE);							}
	// Index
	function index() {								// Send to view		$data['slug'] = $this->slug;		$data['subnav'] = $this->subnav;		$data['is_logged_in'] = $this->is_logged_in;		$data['facebook_id'] = $this->facebook_uid;		$this->load->view('template',$data);		
	}		// Show house details	function houses() {			$data['title'] = 'All Houses';				$data['houses'] = $this->admin_model->get_houses();						// Send to view		$data['slug'] = $this->slug;		$data['subnav'] = $this->subnav;		$data['is_logged_in'] = $this->is_logged_in;		$data['facebook_id'] = $this->facebook_uid;		$this->load->view('template',$data);		}		// Show user details	function users() {			$data['title'] = 'All Users';						$data['users'] = $this->admin_model->get_users();						// Send to view		$data['slug'] = $this->slug;		$data['subnav'] = $this->subnav;		$data['is_logged_in'] = $this->is_logged_in;		$data['facebook_id'] = $this->facebook_uid;		$this->load->view('template',$data);		}		
}// EOF